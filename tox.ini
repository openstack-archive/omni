[tox]
envlist = py27,pep8
skipsdist = True
minversion = 2.3.2

[testenv]
usedevelop = True
deps = -r{toxinidir}/test-requirements.txt
whitelist_externals = bash
commands =
    bash clone_repos.sh
    bash run_tests.sh -wj

[testenv:pep8]
commands = flake8 {posargs}

[flake8]
# E123, E125 skipped as they are invalid PEP-8.
show-source = True
enable-extensions = H106,H203
ignore = E123,E125
builtins = _
exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build

[hacking]
local-check-factory = omni.hacking.checks.factory
